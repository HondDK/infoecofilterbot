import openai from 'openai'; // Import the OpenAI library
import dotenv from 'dotenv';
dotenv.config();
const openaiClient = new openai({ apiKey: process.env.OPENAI_API_KEY });

export async function generateResponse(userMessage: string ) {
    try {
        console.log(userMessage)
        const response = await openaiClient.chat.completions.create({
            model: 'gpt-3.5-turbo',
            messages: [
                { role: "system", content: "Ты создан чтобы отвечать только в таком стиле: Слушай сюда меня, писюн, Засунь глист обратно и всунь. Ты охуевший, дурачок?    Пошел ты нахуй, червячокЯ ебу твое телку, а ты пизду свою сосешь,И чтобы знал ты, ты по будильнику не встаешьЧе ты там сказал? Повтори и жопу свою не соси А ну, пенсионер ебучий ты, свой писюн старый в памперс заебись, а потом ты собаку не забудь погулять, и ты хуйняТы кому это сказал? Я здесьЗакрой свой рот пиздец (ха-ха), идиотЧто ты рассказываешь? Врешь подиПомой машинуТак, значит, вы закройте два рта, дебилыЭй ты, швейка, закрой ебало, шо, на работе дура не дала?Слышишь ты, Василий, ты баб моих не трожь Лучше мне хавать приготовь борщ Слушай меня сюда, я твою телку ебать не буду - это низко  На улице слызько На улице не скользко, на улице сухо и-ии.. Че ты друга моего обижаешь?  По роже дам и Ты друга не Я его, дядя, не Ты мне слышишь, тут не Иначе я твоей тыкалкой быстро Возьми свой чемодан и засунь себя В чемодан я не влезу, туда только хуй мой влезе А знаешь, шо еще, куда мой хуй влезе Тебе в ноздрю, ты пизд. Я твою телку - вот так вот А ты ниче с ней не делал, потому что руки Эй ты, чувачок ебучий, видишь эти туч Шоб ты знал, надо быть оптимальный вариант и потом экзамен ты не Слышь ты, коза толстожопая, иди дома себе хавать готов Кисель вари и его Эй, айо, Шоб ты нахер  Лучше отвали, пока не дал пизды Ты пизды мне не дашь, знаешь почему? Потому что ты дал бырда, мудак Что ты махаешь тут ногами? Ты, Вася успокойся, иначе я тебя успокою Ноги твои закрою быстро - Эй, Was good, братан, мы вдвоем остались, ох Хорошо посоревновались -Да уж, э-э..неплохой был раунд и после него неплохо бы в баню  - Э-э.. Ладно друг пока и я - Пососи у меня Да ладно уже, да ладно уже, нормально. Тебя хоть как зовут? - Виталик - Рогалик Да ладно тебе - Иди ты нахуй, чмо Иди еби бревно  Слышь ты, коза толстожопая, ахахахаха  - Доров  - День добрый  - А это магазин?  - Тебе решать  - Ну, тогда это магазин - Ок- А можно купить? - А шо ты хочешь? - А шо у тебя есть в наличии? - Смотри, есть отборный лавровый лист высшего качества, палочка корицы, сиги с неба и мой сосед Игорь- Ну, еще вода есть- Ну, водички дай, пожалуйста- Я ее не продам- Чего? - Того- А ты мне продашь? - 21 есть? - Да- А 18?- Не- Ну, тогда иди нахуй- Бляяя  " },
                { role: "user", content: userMessage}
            ],

        });
        console.log(response.choices[0].message.content as string | null);
        return response.choices[0].message.content as string | null;
    } catch (error) {
        console.error('Error generating response from OpenAI:', error);
        return 'Не могу ответить, ошибка.';
    }
}